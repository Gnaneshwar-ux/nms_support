<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import org.kordamp.ikonli.javafx.*?>

<AnchorPane stylesheets="@../../styles/light/tabs/project-details.css" xmlns="http://javafx.com/javafx/17.0.2-ea" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.nms.support.nms_support.controller.ProjectDetailsController" focusTraversable="false">
    <!-- Modern header -->
    <VBox spacing="18" AnchorPane.topAnchor="0" AnchorPane.leftAnchor="0" AnchorPane.rightAnchor="0" AnchorPane.bottomAnchor="0" focusTraversable="false">
        <ScrollPane fx:id="rootScroller" fitToWidth="true" fitToHeight="true" hbarPolicy="NEVER" vbarPolicy="AS_NEEDED" VBox.vgrow="ALWAYS" focusTraversable="false">
            <FlowPane fx:id="cardPane" hgap="32" vgap="32" styleClass="bg-solid responsive-pane" prefWrapLength="0" alignment="TOP_LEFT" focusTraversable="false">
                <padding>
                    <Insets top="32" right="32" bottom="32" left="32" />
                </padding>
                <!-- ====================== CARD 1 ================================= -->
                <VBox spacing="12" styleClass="card">
                    <HBox alignment="CENTER_LEFT" spacing="8">
                        <FontIcon iconLiteral="fa-linux" iconSize="18" styleClass="card-icon" />
                        <Label styleClass="card-title" text="Linux Server" />
                        <Button fx:id="linuxImportBtn" styleClass="transparent-icon-btn" onAction="#importLinuxServerData">
                            <tooltip><Tooltip text="Import Linux Server data from another project" /></tooltip>
                            <graphic><FontIcon iconLiteral="fa-download" iconSize="14" /></graphic>
                        </Button>
                        <Button fx:id="sshOpenBtn" styleClass="icon-btn" visible="false">
                            <tooltip><Tooltip text="Open SSH client" /></tooltip>
                            <graphic><FontIcon iconLiteral="fa-desktop" iconSize="14" /></graphic>
                        </Button>
                    </HBox>
                    <Label styleClass="field-label" text="Host Address" /> <TextField fx:id="hostAddressField" />
                    <Label styleClass="field-label" text="User" /> <TextField fx:id="hostUserField" />
                    <Label styleClass="field-label" text="Password" /> <PasswordField fx:id="hostPasswordField" />
                    <Label styleClass="field-label" text="Port" /> <TextField fx:id="portField" />
                    <Label styleClass="field-label" text="App URL" /> <TextField fx:id="appUrlField" />
                </VBox>
                <!-- ====================== CARD 2 ================================= -->
                <VBox spacing="12" styleClass="card">
                    <HBox alignment="CENTER_LEFT" spacing="8">
                        <FontIcon iconLiteral="fa-database" iconSize="18" styleClass="card-icon" />
                        <Label styleClass="card-title" text="Oracle DB" />
                        <Button fx:id="dbImportBtn" styleClass="transparent-icon-btn" onAction="#importOracleDbData">
                            <tooltip><Tooltip text="Import Oracle DB data from another project" /></tooltip>
                            <graphic><FontIcon iconLiteral="fa-download" iconSize="14" /></graphic>
                        </Button>
                        <Button fx:id="dbOpenBtn" styleClass="icon-btn" visible="false">
                            <tooltip><Tooltip text="Open in SQL Developer" /></tooltip>
                            <graphic><FontIcon iconLiteral="fa-database" iconSize="14" /></graphic>
                        </Button>
                    </HBox>
                    <Label styleClass="field-label" text="DB Host" /> <TextField fx:id="dbHostField" />
                    <Label styleClass="field-label" text="Port" /> <TextField fx:id="dbPortField" />
                    <Label styleClass="field-label" text="User" /> <TextField fx:id="dbUserField" />
                    <Label styleClass="field-label" text="Password" /> <PasswordField fx:id="dbPasswordField" />
                    <Label styleClass="field-label" text="SID" /> <TextField fx:id="dbSidField" />
                </VBox>
                <!-- ====================== CARD 3 ================================= -->
                <VBox spacing="12" styleClass="card">
                    <HBox alignment="CENTER_LEFT" spacing="8">
                        <FontIcon iconLiteral="fa-folder-open" iconSize="17" styleClass="card-icon" />
                        <Label styleClass="card-title" text="Project Folders" />
                        <Button fx:id="foldersImportBtn" styleClass="transparent-icon-btn" onAction="#importProjectFoldersData">
                            <tooltip><Tooltip text="Import Project Folders data from another project" /></tooltip>
                            <graphic><FontIcon iconLiteral="fa-download" iconSize="14" /></graphic>
                        </Button>
                    </HBox>
                    <Label styleClass="field-label" text="Project Folder" />
                    <HBox spacing="6">
                        <TextField fx:id="projectFolderField" HBox.hgrow="ALWAYS" />
                        <Button fx:id="projectFolderBtn" styleClass="icon-btn" onAction="#browseProjectFolder">
                            <tooltip><Tooltip text="Browse" /></tooltip>
                            <graphic><FontIcon iconLiteral="fa-folder" iconSize="14" /></graphic>
                        </Button>
                        <Button fx:id="replaceProjectBuildBtn" styleClass="icon-btn" onAction="#replaceProjectBuild">
                            <tooltip><Tooltip text="Replace NMS_HOME in project build files" /></tooltip>
                            <graphic><FontIcon iconLiteral="fa-exchange" iconSize="14" /></graphic>
                        </Button>
                    </HBox>
                    <Label styleClass="field-label" text="Product Folder" />
                    <HBox spacing="6">
                        <TextField fx:id="productFolderField" HBox.hgrow="ALWAYS" />
                        <Button fx:id="productFolderBtn" styleClass="icon-btn" onAction="#browseProductFolder">
                            <tooltip><Tooltip text="Browse" /></tooltip>
                            <graphic><FontIcon iconLiteral="fa-folder" iconSize="14" /></graphic>
                        </Button>
                        <Button fx:id="replaceProductBuildBtn" styleClass="icon-btn" onAction="#replaceProductBuild">
                            <tooltip><Tooltip text="Replace NMS_HOME in product build files" /></tooltip>
                            <graphic><FontIcon iconLiteral="fa-exchange" iconSize="14" /></graphic>
                        </Button>
                    </HBox>
                    <Label styleClass="field-label" text="Env Variable" /> <HBox spacing="6">
                        <TextField fx:id="envVarField" HBox.hgrow="ALWAYS" />
                        <Button fx:id="envVarSearchBtn" styleClass="icon-btn" onAction="#showEnvVarDialog">
                            <graphic>
                                <FontIcon iconLiteral="fa-search" iconSize="16" />
                            </graphic>
                            <tooltip><Tooltip text="Search Env Variable" /></tooltip>
                        </Button>
                    </HBox>
                    <Label styleClass="field-label" text="SVN URL" />
                    <HBox spacing="6">
                        <TextField fx:id="svnUrlField" HBox.hgrow="ALWAYS" />
                        <Button fx:id="svnBrowseBtn" styleClass="icon-btn" onAction="#browseSvnUrl">
                            <tooltip><Tooltip text="Browse SVN URL" /></tooltip>
                            <graphic><FontIcon iconLiteral="fa-globe" iconSize="14" /></graphic>
                        </Button>
                    </HBox>
                    <HBox spacing="8" alignment="CENTER" style="-fx-padding: 16 0 0 0;">
                        <Button fx:id="localSetupBtn" styleClass="wide-btn" onAction="#startLocalSetup" text="Local Setup / Upgrade" />
                    </HBox>
                </VBox>
            </FlowPane>
        </ScrollPane>
        <!-- busy-overlay stays unchanged -->
        <StackPane fx:id="overlayPane" visible="false" AnchorPane.bottomAnchor="0" AnchorPane.leftAnchor="0" AnchorPane.rightAnchor="0" AnchorPane.topAnchor="0">
            <ProgressIndicator fx:id="loadingIndicator" maxHeight="80" maxWidth="80" />
        </StackPane>
    </VBox>
</AnchorPane>
